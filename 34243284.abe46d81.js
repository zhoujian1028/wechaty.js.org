(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{184:function(e,t,a){"use strict";a.d(t,"a",(function(){return m})),a.d(t,"b",(function(){return s}));var n=a(0),c=a.n(n);function b(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){b(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function i(e,t){if(null==e)return{};var a,n,c=function(e,t){if(null==e)return{};var a,n,c={},b=Object.keys(e);for(n=0;n<b.length;n++)a=b[n],t.indexOf(a)>=0||(c[a]=e[a]);return c}(e,t);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(e);for(n=0;n<b.length;n++)a=b[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(c[a]=e[a])}return c}var l=c.a.createContext({}),p=function(e){var t=c.a.useContext(l),a=t;return e&&(a="function"==typeof e?e(t):o(o({},t),e)),a},m=function(e){var t=p(e.components);return c.a.createElement(l.Provider,{value:t},e.children)},j={inlineCode:"code",wrapper:function(e){var t=e.children;return c.a.createElement(c.a.Fragment,{},t)}},O=c.a.forwardRef((function(e,t){var a=e.components,n=e.mdxType,b=e.originalType,r=e.parentName,l=i(e,["components","mdxType","originalType","parentName"]),m=p(a),O=n,s=m["".concat(r,".").concat(O)]||m[O]||j[O]||b;return a?c.a.createElement(s,o(o({ref:t},l),{},{components:a})):c.a.createElement(s,o({ref:t},l))}));function s(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var b=a.length,r=new Array(b);r[0]=O;var o={};for(var i in t)hasOwnProperty.call(t,i)&&(o[i]=t[i]);o.originalType=e,o.mdxType="string"==typeof e?e:n,r[1]=o;for(var l=2;l<b;l++)r[l]=a[l];return c.a.createElement.apply(null,r)}return c.a.createElement.apply(null,a)}O.displayName="MDXCreateElement"},96:function(e,t,a){"use strict";a.r(t),a.d(t,"frontMatter",(function(){return r})),a.d(t,"metadata",(function(){return o})),a.d(t,"toc",(function(){return i})),a.d(t,"default",(function(){return p}));var n=a(3),c=a(7),b=(a(0),a(184)),r={title:"Wechaty"},o={unversionedId:"api/wechaty",id:"api/wechaty",isDocsHomePage:!1,title:"Wechaty",description:"Main bot class, A Bot is a wechat client depends on which puppet you use.",source:"@site/docs/api/wechaty.md",slug:"/api/wechaty",permalink:"/docs/api/wechaty",editUrl:"https://github.com/wechaty/wechaty.js.org/edit/master/docusaurus/docs/api/wechaty.md",version:"current",lastUpdatedBy:"Huan",lastUpdatedAt:1611581228,sidebar:"docs",previous:{title:"Wechaty API Reference",permalink:"/docs/api/"},next:{title:"Message",permalink:"/docs/api/message"}},i=[{value:"Classes",id:"classes",children:[]},{value:"Typedefs",id:"typedefs",children:[]},{value:"Wechaty",id:"wechaty",children:[{value:"new Wechaty([options])",id:"new-wechatyoptions",children:[]},{value:"wechaty.on(event, listener) \u21d2 Wechaty",id:"wechatyonevent-listener-\u21d2-wechaty",children:[]},{value:"wechaty.start() \u21d2 <code>Promise &lt;void&gt;</code>",id:"wechatystart-\u21d2-promise-void",children:[]},{value:"wechaty.stop() \u21d2 <code>Promise &lt;void&gt;</code>",id:"wechatystop-\u21d2-promise-void",children:[]},{value:"wechaty.logout() \u21d2 <code>Promise &lt;void&gt;</code>",id:"wechatylogout-\u21d2-promise-void",children:[]},{value:"wechaty.logonoff() \u21d2 <code>boolean</code>",id:"wechatylogonoff-\u21d2-boolean",children:[]},{value:"wechaty.userSelf() \u21d2 <code>ContactSelf</code>",id:"wechatyuserself-\u21d2-contactself",children:[]},{value:"wechaty.say(textOrContactOrFileOrUrl) \u21d2 <code>Promise &lt;void&gt;</code>",id:"wechatysaytextorcontactorfileorurl-\u21d2-promise-void",children:[]},{value:"Wechaty.instance([options])",id:"wechatyinstanceoptions",children:[]}]},{value:"PuppetName",id:"puppetname",children:[]},{value:"WechatyOptions",id:"wechatyoptions",children:[]},{value:"WechatyEventName",id:"wechatyeventname",children:[]},{value:"WechatyEventFunction",id:"wechatyeventfunction",children:[]}],l={toc:i};function p(e){var t=e.components,a=Object(c.a)(e,["components"]);return Object(b.b)("wrapper",Object(n.a)({},l,a,{components:t,mdxType:"MDXLayout"}),Object(b.b)("p",null,"Main bot class, A Bot is a wechat client depends on which puppet you use."),Object(b.b)("h2",{id:"classes"},"Classes"),Object(b.b)("p",null,Object(b.b)("a",Object(n.a)({parentName:"p"},{href:"/docs/api/wechaty#Wechaty"}),"Wechaty")),Object(b.b)("p",null,"Main bot class."),Object(b.b)("p",null,"A ",Object(b.b)("inlineCode",{parentName:"p"},"Bot")," is a wechat client depends on which puppet you use. It may equals"),Object(b.b)("ul",null,Object(b.b)("li",{parentName:"ul"},"web-wechat, when you use: ",Object(b.b)("a",Object(n.a)({parentName:"li"},{href:"https://github.com/wechaty/wechaty-puppet-puppeteer"}),"puppet-puppeteer"),"/",Object(b.b)("a",Object(n.a)({parentName:"li"},{href:"https://github.com/wechaty/wechaty-puppet-wechat4u"}),"puppet-wechat4u")),Object(b.b)("li",{parentName:"ul"},"ipad-wechat, when you use: ",Object(b.b)("a",Object(n.a)({parentName:"li"},{href:"https://github.com/lijiarui/wechaty-puppet-padchat"}),"puppet-padchat")),Object(b.b)("li",{parentName:"ul"},"ios-wechat, when you use: puppet-ioscat")),Object(b.b)("p",null,"See more:"),Object(b.b)("ul",null,Object(b.b)("li",{parentName:"ul"},Object(b.b)("a",Object(n.a)({parentName:"li"},{href:"https://github.com/wechaty/wechaty-getting-started/wiki/FAQ-EN#31-what-is-a-puppet-in-wechaty"}),"What is a Puppet in Wechaty"))),Object(b.b)("blockquote",null,Object(b.b)("p",{parentName:"blockquote"},"If you want to know how to send message, see ",Object(b.b)("a",Object(n.a)({parentName:"p"},{href:"/docs/api/wechaty#Message"}),"Message"),Object(b.b)("br",{parentName:"p"}),"\n","If you want to know how to get contact, see ",Object(b.b)("a",Object(n.a)({parentName:"p"},{href:"/docs/api/wechaty#Contact"}),"Contact"))),Object(b.b)("h2",{id:"typedefs"},"Typedefs"),Object(b.b)("p",null,Object(b.b)("a",Object(n.a)({parentName:"p"},{href:"/docs/api/wechaty#PuppetName"}),"PuppetName")),Object(b.b)("p",null,"The term ",Object(b.b)("a",Object(n.a)({parentName:"p"},{href:"https://github.com/wechaty/wechaty/wiki/Puppet"}),"Puppet")," in Wechaty is an Abstract Class for implementing protocol plugins. The plugins are the component that helps Wechaty to control the Wechat","(","that's the reason we call it puppet",")",". The plugins are named PuppetXXX, for example:"),Object(b.b)("ul",null,Object(b.b)("li",{parentName:"ul"},Object(b.b)("a",Object(n.a)({parentName:"li"},{href:"https://github.com/wechaty/wechaty-puppet-puppeteer"}),"PuppetPuppeteer")),Object(b.b)("li",{parentName:"ul"},Object(b.b)("a",Object(n.a)({parentName:"li"},{href:"https://github.com/lijiarui/wechaty-puppet-padchat"}),"PuppetPadchat"))),Object(b.b)("p",null,Object(b.b)("a",Object(n.a)({parentName:"p"},{href:"/docs/api/wechaty#WechatyOptions"}),"WechatyOptions")),Object(b.b)("p",null,"The option parameter to create a wechaty instance ",Object(b.b)("a",Object(n.a)({parentName:"p"},{href:"/docs/api/wechaty#WechatyEventName"}),"WechatyEventName")),Object(b.b)("p",null,"Wechaty Class Event Type ",Object(b.b)("a",Object(n.a)({parentName:"p"},{href:"/docs/api/wechaty#WechatyEventFunction"}),"WechatyEventFunction")),Object(b.b)("p",null,"Wechaty Class Event Function"),Object(b.b)("h2",{id:"wechaty"},"Wechaty"),Object(b.b)("p",null,"Main bot class."),Object(b.b)("p",null,"A ",Object(b.b)("inlineCode",{parentName:"p"},"Bot")," is a wechat client depends on which puppet you use. It may equals"),Object(b.b)("ul",null,Object(b.b)("li",{parentName:"ul"},"web-wechat, when you use: ",Object(b.b)("a",Object(n.a)({parentName:"li"},{href:"https://github.com/wechaty/wechaty-puppet-puppeteer"}),"puppet-puppeteer"),"/",Object(b.b)("a",Object(n.a)({parentName:"li"},{href:"https://github.com/wechaty/wechaty-puppet-wechat4u"}),"puppet-wechat4u")),Object(b.b)("li",{parentName:"ul"},"ipad-wechat, when you use: ",Object(b.b)("a",Object(n.a)({parentName:"li"},{href:"https://github.com/lijiarui/wechaty-puppet-padchat"}),"puppet-padchat")),Object(b.b)("li",{parentName:"ul"},"ios-wechat, when you use: puppet-ioscat")),Object(b.b)("p",null,"See more:"),Object(b.b)("ul",null,Object(b.b)("li",{parentName:"ul"},Object(b.b)("a",Object(n.a)({parentName:"li"},{href:"https://github.com/wechaty/wechaty-getting-started/wiki/FAQ-EN#31-what-is-a-puppet-in-wechaty"}),"What is a Puppet in Wechaty"))),Object(b.b)("blockquote",null,Object(b.b)("p",{parentName:"blockquote"},"If you want to know how to send message, see ",Object(b.b)("a",Object(n.a)({parentName:"p"},{href:"/docs/api/wechaty#Message"}),"Message"),Object(b.b)("br",{parentName:"p"}),"\n","If you want to know how to get contact, see ",Object(b.b)("a",Object(n.a)({parentName:"p"},{href:"/docs/api/wechaty#Contact"}),"Contact"))),Object(b.b)("p",null,Object(b.b)("strong",{parentName:"p"},"Kind"),": global class"),Object(b.b)("ul",null,Object(b.b)("li",{parentName:"ul"},Object(b.b)("a",Object(n.a)({parentName:"li"},{href:"/docs/api/wechaty#Wechaty"}),"Wechaty"),Object(b.b)("ul",{parentName:"li"},Object(b.b)("li",{parentName:"ul"},Object(b.b)("a",Object(n.a)({parentName:"li"},{href:"/docs/api/wechaty#new_Wechaty_new"}),"new Wechaty","(","[","options","]",")")),Object(b.b)("li",{parentName:"ul"},Object(b.b)("em",{parentName:"li"},"instance"),Object(b.b)("ul",{parentName:"li"},Object(b.b)("li",{parentName:"ul"},Object(b.b)("a",Object(n.a)({parentName:"li"},{href:"/docs/api/wechaty#Wechaty+on"}),".on","(","event, listener",")")," \u21d2 ",Object(b.b)("a",Object(n.a)({parentName:"li"},{href:"/docs/api/wechaty#Wechaty"}),Object(b.b)("inlineCode",{parentName:"a"},"Wechaty"))),Object(b.b)("li",{parentName:"ul"},Object(b.b)("a",Object(n.a)({parentName:"li"},{href:"/docs/api/wechaty#Wechaty+start"}),".start","(",")")," \u21d2 ",Object(b.b)("inlineCode",{parentName:"li"},"Promise <void>")),Object(b.b)("li",{parentName:"ul"},Object(b.b)("a",Object(n.a)({parentName:"li"},{href:"/docs/api/wechaty#Wechaty+stop"}),".stop","(",")")," \u21d2 ",Object(b.b)("inlineCode",{parentName:"li"},"Promise <void>")),Object(b.b)("li",{parentName:"ul"},Object(b.b)("a",Object(n.a)({parentName:"li"},{href:"/docs/api/wechaty#Wechaty+logout"}),".logout","(",")")," \u21d2 ",Object(b.b)("inlineCode",{parentName:"li"},"Promise <void>")),Object(b.b)("li",{parentName:"ul"},Object(b.b)("a",Object(n.a)({parentName:"li"},{href:"/docs/api/wechaty#Wechaty+logonoff"}),".logonoff","(",")")," \u21d2 ",Object(b.b)("inlineCode",{parentName:"li"},"boolean")),Object(b.b)("li",{parentName:"ul"},Object(b.b)("a",Object(n.a)({parentName:"li"},{href:"/docs/api/wechaty#Wechaty+userSelf"}),".userSelf","(",")")," \u21d2 ",Object(b.b)("inlineCode",{parentName:"li"},"ContactSelf")),Object(b.b)("li",{parentName:"ul"},Object(b.b)("a",Object(n.a)({parentName:"li"},{href:"/docs/api/wechaty#Wechaty+say"}),".say","(","textOrContactOrFileOrUrl",")")," \u21d2 ",Object(b.b)("inlineCode",{parentName:"li"},"Promise <void>")))),Object(b.b)("li",{parentName:"ul"},Object(b.b)("em",{parentName:"li"},"static"),Object(b.b)("ul",{parentName:"li"},Object(b.b)("li",{parentName:"ul"},Object(b.b)("a",Object(n.a)({parentName:"li"},{href:"/docs/api/wechaty#Wechaty.instance"}),".instance","(","[","options","]",")"))))))),Object(b.b)("h3",{id:"new-wechatyoptions"},"new Wechaty","(","[","options","]",")"),Object(b.b)("p",null,"Creates an instance of Wechaty."),Object(b.b)("table",null,Object(b.b)("thead",{parentName:"table"},Object(b.b)("tr",{parentName:"thead"},Object(b.b)("th",Object(n.a)({parentName:"tr"},{align:"left"}),"Param"),Object(b.b)("th",Object(n.a)({parentName:"tr"},{align:"left"}),"Type"),Object(b.b)("th",Object(n.a)({parentName:"tr"},{align:"left"}),"Default"))),Object(b.b)("tbody",{parentName:"table"},Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"left"}),"[","options","]"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"left"}),Object(b.b)("a",Object(n.a)({parentName:"td"},{href:"/docs/api/wechaty#WechatyOptions"}),Object(b.b)("inlineCode",{parentName:"a"},"WechatyOptions"))),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"left"}),Object(b.b)("inlineCode",{parentName:"td"},"{}"))))),Object(b.b)("p",null,Object(b.b)("strong",{parentName:"p"},"Example")," ",Object(b.b)("em",{parentName:"p"},"(","The World's Shortest ChatBot Code: 6 lines of JavaScript",")")),Object(b.b)("pre",null,Object(b.b)("code",Object(n.a)({parentName:"pre"},{className:"language-javascript"}),"const { Wechaty } = require('wechaty')\nconst bot = new Wechaty()\nbot.on('scan',    (qrcode, status) => console.log(['https://api.qrserver.com/v1/create-qr-code/?data=',encodeURIComponent(qrcode),'&size=220x220&margin=20',].join('')))\nbot.on('login',   user => console.log(`User ${user} logined`))\nbot.on('message', message => console.log(`Message: ${message}`))\nbot.start()\n")),Object(b.b)("h3",{id:"wechatyonevent-listener-\u21d2-wechaty"},"wechaty.on","(","event, listener",")"," \u21d2 ",Object(b.b)("a",Object(n.a)({parentName:"h3"},{href:"/docs/api/wechaty#Wechaty"}),Object(b.b)("inlineCode",{parentName:"a"},"Wechaty"))),Object(b.b)("p",null,"When the bot get message, it will emit the following Event."),Object(b.b)("p",null,"You can do anything you want when in these events functions. The main Event name as follows:"),Object(b.b)("ul",null,Object(b.b)("li",{parentName:"ul"},Object(b.b)("strong",{parentName:"li"},"scan"),": Emit when the bot needs to show you a QR Code for scanning. After scan the qrcode, you can login"),Object(b.b)("li",{parentName:"ul"},Object(b.b)("strong",{parentName:"li"},"login"),": Emit when bot login full successful."),Object(b.b)("li",{parentName:"ul"},Object(b.b)("strong",{parentName:"li"},"logout"),": Emit when bot detected log out."),Object(b.b)("li",{parentName:"ul"},Object(b.b)("strong",{parentName:"li"},"message"),": Emit when there's a new message.")),Object(b.b)("p",null,"see more in ",Object(b.b)("a",Object(n.a)({parentName:"p"},{href:"/docs/api/wechaty#WechatyEventName"}),"WechatyEventName")),Object(b.b)("p",null,Object(b.b)("strong",{parentName:"p"},"Kind"),": instance method of ",Object(b.b)("a",Object(n.a)({parentName:"p"},{href:"/docs/api/wechaty#Wechaty"}),Object(b.b)("inlineCode",{parentName:"a"},"Wechaty")),Object(b.b)("br",{parentName:"p"}),"\n",Object(b.b)("strong",{parentName:"p"},"Returns"),": ",Object(b.b)("a",Object(n.a)({parentName:"p"},{href:"/docs/api/wechaty#Wechaty"}),Object(b.b)("inlineCode",{parentName:"a"},"Wechaty"))," - - this for chaining, see advanced ",Object(b.b)("a",Object(n.a)({parentName:"p"},{href:"https://github.com/wechaty/wechaty-getting-started/wiki/FAQ-EN#36-why-wechatyonevent-listener-return-wechaty"}),"chaining usage")),Object(b.b)("table",null,Object(b.b)("thead",{parentName:"table"},Object(b.b)("tr",{parentName:"thead"},Object(b.b)("th",Object(n.a)({parentName:"tr"},{align:"left"}),"Param"),Object(b.b)("th",Object(n.a)({parentName:"tr"},{align:"left"}),"Type"),Object(b.b)("th",Object(n.a)({parentName:"tr"},{align:"left"}),"Description"))),Object(b.b)("tbody",{parentName:"table"},Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"left"}),"event"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"left"}),Object(b.b)("a",Object(n.a)({parentName:"td"},{href:"/docs/api/wechaty#WechatyEventName"}),Object(b.b)("inlineCode",{parentName:"a"},"WechatyEventName"))),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"left"}),"Emit WechatyEvent")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"left"}),"listener"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"left"}),Object(b.b)("a",Object(n.a)({parentName:"td"},{href:"/docs/api/wechaty#WechatyEventFunction"}),Object(b.b)("inlineCode",{parentName:"a"},"WechatyEventFunction"))),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"left"}),"Depends on the WechatyEvent")))),Object(b.b)("p",null,Object(b.b)("strong",{parentName:"p"},"Example")," ",Object(b.b)("em",{parentName:"p"},"(","Event:scan",")")),Object(b.b)("pre",null,Object(b.b)("code",Object(n.a)({parentName:"pre"},{className:"language-javascript"}),"// Scan Event will emit when the bot needs to show you a QR Code for scanning\n\nbot.on('scan', (url, code) => {\n  console.log(`[${code}] Scan ${url} to login.` )\n})\n")),Object(b.b)("p",null,Object(b.b)("strong",{parentName:"p"},"Example")," ",Object(b.b)("em",{parentName:"p"},"(","Event:login ",")")),Object(b.b)("pre",null,Object(b.b)("code",Object(n.a)({parentName:"pre"},{className:"language-javascript"}),"// Login Event will emit when bot login full successful.\n\nbot.on('login', (user) => {\n  console.log(`user ${user} login`)\n})\n")),Object(b.b)("p",null,Object(b.b)("strong",{parentName:"p"},"Example")," ",Object(b.b)("em",{parentName:"p"},"(","Event:logout ",")")),Object(b.b)("pre",null,Object(b.b)("code",Object(n.a)({parentName:"pre"},{className:"language-javascript"}),"// Logout Event will emit when bot detected log out.\n\nbot.on('logout', (user) => {\n  console.log(`user ${user} logout`)\n})\n")),Object(b.b)("p",null,Object(b.b)("strong",{parentName:"p"},"Example")," ",Object(b.b)("em",{parentName:"p"},"(","Event:message ",")")),Object(b.b)("pre",null,Object(b.b)("code",Object(n.a)({parentName:"pre"},{className:"language-javascript"}),"// Message Event will emit when there's a new message.\n\nwechaty.on('message', (message) => {\n  console.log(`message ${message} received`)\n})\n")),Object(b.b)("p",null,Object(b.b)("strong",{parentName:"p"},"Example")," ",Object(b.b)("em",{parentName:"p"},"(","Event:friendship ",")")),Object(b.b)("pre",null,Object(b.b)("code",Object(n.a)({parentName:"pre"},{className:"language-javascript"}),"// Friendship Event will emit when got a new friend request, or friendship is confirmed.\n\nbot.on('friendship', async (friendship) => {\n  const contact = friendship.contact()\n  if (friendship.type() === bot.Friendship.Type.Receive) { // 1. receive new friendship request from new contact\n    let result = await friendship.accept()\n    if (result) {\n      console.log(`Request from ${contact.name()} is accept succesfully!`)\n    } else {\n      console.log(`Request from ${contact.name()} failed to accept!`)\n    }\n  } else if (friendship.type() === bot.Friendship.Type.Confirm) { // 2. confirm friendship\n    console.log(`New friendship confirmed with ${contact.name()}`)\n  }\n})\n")),Object(b.b)("p",null,Object(b.b)("strong",{parentName:"p"},"Example")," ",Object(b.b)("em",{parentName:"p"},"(","Event:room-join ",")")),Object(b.b)("pre",null,Object(b.b)("code",Object(n.a)({parentName:"pre"},{className:"language-javascript"}),"// room-join Event will emit when someone join the room.\n\nbot.on('room-join', async (room, inviteeList, inviter) => {\n  const nameList = inviteeList.map(c => c.name()).join(',')\n  console.log(`Room ${await room.topic()} got new member ${nameList}, invited by ${inviter}`)\n})\n")),Object(b.b)("p",null,Object(b.b)("strong",{parentName:"p"},"Example")," ",Object(b.b)("em",{parentName:"p"},"(","Event:room-leave ",")")),Object(b.b)("pre",null,Object(b.b)("code",Object(n.a)({parentName:"pre"},{className:"language-javascript"}),"// room-leave Event will emit when someone leave the room.\n\nbot.on('room-leave', async (room, leaverList, remover) => {\n  const nameList = leaverList.map(c => c.name()).join(',')\n  console.log(`Room ${await room.topic()} lost member ${nameList}, the remover is: ${remover}`)\n})\n")),Object(b.b)("p",null,Object(b.b)("strong",{parentName:"p"},"Example")," ",Object(b.b)("em",{parentName:"p"},"(","Event:room-topic ",")")),Object(b.b)("pre",null,Object(b.b)("code",Object(n.a)({parentName:"pre"},{className:"language-javascript"}),"// room-topic Event will emit when someone change the room's topic.\n\nbot.on('room-topic', async (room, topic, oldTopic, changer) => {\n  console.log(`Room ${await room.topic()} topic changed from ${oldTopic} to ${topic} by ${changer.name()}`)\n})\n")),Object(b.b)("p",null,Object(b.b)("strong",{parentName:"p"},"Example")," ",Object(b.b)("em",{parentName:"p"},"(","Event:room-invite, RoomInvitation has been encapsulated as a RoomInvitation Class. ",")")),Object(b.b)("pre",null,Object(b.b)("code",Object(n.a)({parentName:"pre"},{className:"language-javascript"}),"// room-invite Event will emit when there's an room invitation.\n\nbot.on('room-invite', async roomInvitation => {\n  try {\n    console.log(`received room-invite event.`)\n    await roomInvitation.accept()\n  } catch (e) {\n    console.error(e)\n  }\n}\n")),Object(b.b)("p",null,Object(b.b)("strong",{parentName:"p"},"Example")," ",Object(b.b)("em",{parentName:"p"},"(","Event:error ",")")),Object(b.b)("pre",null,Object(b.b)("code",Object(n.a)({parentName:"pre"},{className:"language-javascript"}),"// error Event will emit when there's an error occurred.\n\nbot.on('error', (error) => {\n  console.error(error)\n})\n")),Object(b.b)("h3",{id:"wechatystart-\u21d2-promise-void"},"wechaty.start","(",")"," \u21d2 ",Object(b.b)("inlineCode",{parentName:"h3"},"Promise <void>")),Object(b.b)("p",null,"When you start the bot, bot will begin to login, need you wechat scan qrcode to login"),Object(b.b)("blockquote",null,Object(b.b)("p",{parentName:"blockquote"},"Tips: All the bot operation needs to be triggered after start","(",")"," is done")),Object(b.b)("p",null,Object(b.b)("strong",{parentName:"p"},"Kind"),": instance method of ",Object(b.b)("a",Object(n.a)({parentName:"p"},{href:"/docs/api/wechaty#Wechaty"}),Object(b.b)("inlineCode",{parentName:"a"},"Wechaty"))),Object(b.b)("h4",{id:"example"},"Example"),Object(b.b)("pre",null,Object(b.b)("code",Object(n.a)({parentName:"pre"},{className:"language-javascript"}),"await bot.start()\n// do other stuff with bot here\n")),Object(b.b)("h3",{id:"wechatystop-\u21d2-promise-void"},"wechaty.stop","(",")"," \u21d2 ",Object(b.b)("inlineCode",{parentName:"h3"},"Promise <void>")),Object(b.b)("p",null,"Stop the bot"),Object(b.b)("p",null,Object(b.b)("strong",{parentName:"p"},"Kind"),": instance method of ",Object(b.b)("a",Object(n.a)({parentName:"p"},{href:"/docs/api/wechaty#Wechaty"}),Object(b.b)("inlineCode",{parentName:"a"},"Wechaty")),"  "),Object(b.b)("h4",{id:"example-1"},"Example"),Object(b.b)("pre",null,Object(b.b)("code",Object(n.a)({parentName:"pre"},{className:"language-javascript"}),"await bot.stop()\n")),Object(b.b)("h3",{id:"wechatylogout-\u21d2-promise-void"},"wechaty.logout","(",")"," \u21d2 ",Object(b.b)("inlineCode",{parentName:"h3"},"Promise <void>")),Object(b.b)("p",null,"Logout the bot"),Object(b.b)("p",null,Object(b.b)("strong",{parentName:"p"},"Kind"),": instance method of ",Object(b.b)("a",Object(n.a)({parentName:"p"},{href:"/docs/api/wechaty#Wechaty"}),Object(b.b)("inlineCode",{parentName:"a"},"Wechaty")),"  "),Object(b.b)("h4",{id:"example-2"},"Example"),Object(b.b)("pre",null,Object(b.b)("code",Object(n.a)({parentName:"pre"},{className:"language-javascript"}),"await bot.logout()\n")),Object(b.b)("h3",{id:"wechatylogonoff-\u21d2-boolean"},"wechaty.logonoff","(",")"," \u21d2 ",Object(b.b)("inlineCode",{parentName:"h3"},"boolean")),Object(b.b)("p",null,"Get the logon / logoff state"),Object(b.b)("p",null,Object(b.b)("strong",{parentName:"p"},"Kind"),": instance method of ",Object(b.b)("a",Object(n.a)({parentName:"p"},{href:"/docs/api/wechaty#Wechaty"}),Object(b.b)("inlineCode",{parentName:"a"},"Wechaty")),"  "),Object(b.b)("h4",{id:"example-3"},"Example"),Object(b.b)("pre",null,Object(b.b)("code",Object(n.a)({parentName:"pre"},{className:"language-javascript"}),"if (bot.logonoff()) {\n  console.log('Bot logined')\n} else {\n  console.log('Bot not logined')\n}\n")),Object(b.b)("h3",{id:"wechatyuserself-\u21d2-contactself"},"wechaty.userSelf","(",")"," \u21d2 ",Object(b.b)("inlineCode",{parentName:"h3"},"ContactSelf")),Object(b.b)("p",null,"Get current user"),Object(b.b)("p",null,Object(b.b)("strong",{parentName:"p"},"Kind"),": instance method of ",Object(b.b)("a",Object(n.a)({parentName:"p"},{href:"/docs/api/wechaty#Wechaty"}),Object(b.b)("inlineCode",{parentName:"a"},"Wechaty")),"  "),Object(b.b)("h4",{id:"example-4"},"Example"),Object(b.b)("pre",null,Object(b.b)("code",Object(n.a)({parentName:"pre"},{className:"language-javascript"}),"const contact = bot.userSelf()\nconsole.log(`Bot is ${contact.name()}`)\n")),Object(b.b)("h3",{id:"wechatysaytextorcontactorfileorurl-\u21d2-promise-void"},"wechaty.say","(","textOrContactOrFileOrUrl",")"," \u21d2 ",Object(b.b)("inlineCode",{parentName:"h3"},"Promise <void>")),Object(b.b)("p",null,"Send message to userSelf, in other words, bot send message to itself."),Object(b.b)("blockquote",null,Object(b.b)("p",{parentName:"blockquote"},"Tips: This function is depending on the Puppet Implementation, see ",Object(b.b)("a",Object(n.a)({parentName:"p"},{href:"https://github.com/wechaty/wechaty/wiki/Puppet#3-puppet-compatible-table"}),"puppet-compatible-table"))),Object(b.b)("p",null,Object(b.b)("strong",{parentName:"p"},"Kind"),": instance method of ",Object(b.b)("a",Object(n.a)({parentName:"p"},{href:"/docs/api/wechaty#Wechaty"}),Object(b.b)("inlineCode",{parentName:"a"},"Wechaty"))),Object(b.b)("table",null,Object(b.b)("thead",{parentName:"table"},Object(b.b)("tr",{parentName:"thead"},Object(b.b)("th",Object(n.a)({parentName:"tr"},{align:"left"}),"Param"),Object(b.b)("th",Object(n.a)({parentName:"tr"},{align:"left"}),"Type"),Object(b.b)("th",Object(n.a)({parentName:"tr"},{align:"left"}),"Description"))),Object(b.b)("tbody",{parentName:"table"},Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"left"}),"textOrContactOrFileOrUrl"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"left"}),Object(b.b)("inlineCode",{parentName:"td"},"string")," ","|"," ",Object(b.b)("inlineCode",{parentName:"td"},"Contact")," ","|"," ",Object(b.b)("inlineCode",{parentName:"td"},"FileBox")," ","|"," ",Object(b.b)("inlineCode",{parentName:"td"},"UrlLink")),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"left"}),"send text, Contact, file or Link to bot. ","<","/br",">"," You can use ",Object(b.b)("a",Object(n.a)({parentName:"td"},{href:"https://www.npmjs.com/package/file-box"}),"FileBox")," to send file")))),Object(b.b)("h4",{id:"example-5"},"Example"),Object(b.b)("pre",null,Object(b.b)("code",Object(n.a)({parentName:"pre"},{className:"language-javascript"}),"const bot = new Wechaty()\nawait bot.start()\n// after logged in\n\n// 1. send text to bot itself\nawait bot.say('hello!')\n\n// 2. send Contact to bot itself\nconst contact = bot.Contact.load('contactId')\nawait bot.say(contact)\n\n// 3. send Image to bot itself from remote url\nimport { FileBox }  from 'file-box'\nconst fileBox = FileBox.fromUrl('https://wechaty.github.io/wechaty/images/bot-qr-code.png')\nawait bot.say(fileBox)\n\n// 4. send Image to bot itself from local file\nimport { FileBox }  from 'file-box'\nconst fileBox = FileBox.fromFile('/tmp/text.jpg')\nawait bot.say(fileBox)\n\n// 5. send Link to bot itself\nconst linkPayload = new UrlLink({\n  description : 'WeChat Bot SDK for Individual Account, Powered by TypeScript, Docker, and Love',\n  thumbnailUrl: 'https://avatars0.githubusercontent.com/u/25162437?s=200&v=4',\n  title       : 'Welcome to Wechaty',\n  url         : 'https://github.com/wechaty/wechaty',\n})\nawait bot.say(linkPayload)\n")),Object(b.b)("h3",{id:"wechatyinstanceoptions"},"Wechaty.instance","(","[","options","]",")"),Object(b.b)("p",null,"Get the global instance of Wechaty"),Object(b.b)("p",null,Object(b.b)("strong",{parentName:"p"},"Kind"),": static method of ",Object(b.b)("a",Object(n.a)({parentName:"p"},{href:"/docs/api/wechaty#Wechaty"}),Object(b.b)("inlineCode",{parentName:"a"},"Wechaty"))),Object(b.b)("table",null,Object(b.b)("thead",{parentName:"table"},Object(b.b)("tr",{parentName:"thead"},Object(b.b)("th",Object(n.a)({parentName:"tr"},{align:"left"}),"Param"),Object(b.b)("th",Object(n.a)({parentName:"tr"},{align:"left"}),"Type"),Object(b.b)("th",Object(n.a)({parentName:"tr"},{align:"left"}),"Default"))),Object(b.b)("tbody",{parentName:"table"},Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"left"}),"[","options","]"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"left"}),Object(b.b)("a",Object(n.a)({parentName:"td"},{href:"/docs/api/wechaty#WechatyOptions"}),Object(b.b)("inlineCode",{parentName:"a"},"WechatyOptions"))),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"left"}),Object(b.b)("inlineCode",{parentName:"td"},"{}"))))),Object(b.b)("p",null,Object(b.b)("strong",{parentName:"p"},"Example")," ",Object(b.b)("em",{parentName:"p"},"(","The World's Shortest ChatBot Code: 6 lines of JavaScript",")")),Object(b.b)("pre",null,Object(b.b)("code",Object(n.a)({parentName:"pre"},{className:"language-javascript"}),"const { Wechaty } = require('wechaty')\n\nWechaty.instance() // Global instance\n.on('scan', (url, code) => console.log(`Scan QR Code to login: ${code}\\n${url}`))\n.on('login',       user => console.log(`User ${user} logined`))\n.on('message',  message => console.log(`Message: ${message}`))\n.start()\n")),Object(b.b)("h2",{id:"puppetname"},"PuppetName"),Object(b.b)("p",null,"The term ",Object(b.b)("a",Object(n.a)({parentName:"p"},{href:"https://github.com/wechaty/wechaty/wiki/Puppet"}),"Puppet")," in Wechaty is an Abstract Class for implementing protocol plugins. The plugins are the component that helps Wechaty to control the Wechat","(","that's the reason we call it puppet",")",". The plugins are named PuppetXXX, for example:"),Object(b.b)("ul",null,Object(b.b)("li",{parentName:"ul"},Object(b.b)("a",Object(n.a)({parentName:"li"},{href:"https://github.com/wechaty/wechaty-puppet-puppeteer"}),"PuppetPuppeteer")),Object(b.b)("li",{parentName:"ul"},Object(b.b)("a",Object(n.a)({parentName:"li"},{href:"https://github.com/lijiarui/wechaty-puppet-padchat"}),"PuppetPadchat"))),Object(b.b)("p",null,Object(b.b)("strong",{parentName:"p"},"Kind"),": global typedef",Object(b.b)("br",{parentName:"p"}),"\n",Object(b.b)("strong",{parentName:"p"},"Properties")),Object(b.b)("table",null,Object(b.b)("thead",{parentName:"table"},Object(b.b)("tr",{parentName:"thead"},Object(b.b)("th",Object(n.a)({parentName:"tr"},{align:"left"}),"Name"),Object(b.b)("th",Object(n.a)({parentName:"tr"},{align:"left"}),"Type"),Object(b.b)("th",Object(n.a)({parentName:"tr"},{align:"left"}),"Description"))),Object(b.b)("tbody",{parentName:"table"},Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"left"}),"wechat4u"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"left"}),Object(b.b)("inlineCode",{parentName:"td"},"string")),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"left"}),"The default puppet, using the ",Object(b.b)("a",Object(n.a)({parentName:"td"},{href:"https://github.com/nodeWechat/wechat4u"}),"wechat4u")," to control the ",Object(b.b)("a",Object(n.a)({parentName:"td"},{href:"https://wx.qq.com/"}),"WeChat Web API")," via a chrome browser.")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"left"}),"padchat"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"left"}),Object(b.b)("inlineCode",{parentName:"td"},"string")),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"left"}),"- Using the WebSocket protocol to connect with a Protocol Server for controlling the iPad Wechat program.")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"left"}),"puppeteer"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"left"}),Object(b.b)("inlineCode",{parentName:"td"},"string")),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"left"}),"- Using the ",Object(b.b)("a",Object(n.a)({parentName:"td"},{href:"https://github.com/GoogleChrome/puppeteer"}),"google puppeteer")," to control the ",Object(b.b)("a",Object(n.a)({parentName:"td"},{href:"https://wx.qq.com/"}),"WeChat Web API")," via a chrome browser.")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"left"}),"mock"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"left"}),Object(b.b)("inlineCode",{parentName:"td"},"string")),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"left"}),"- Using the mock data to mock wechat operation, just for test.")))),Object(b.b)("h2",{id:"wechatyoptions"},"WechatyOptions"),Object(b.b)("p",null,"The option parameter to create a wechaty instance"),Object(b.b)("p",null,Object(b.b)("strong",{parentName:"p"},"Kind"),": global typedef",Object(b.b)("br",{parentName:"p"}),"\n",Object(b.b)("strong",{parentName:"p"},"Properties")),Object(b.b)("table",null,Object(b.b)("thead",{parentName:"table"},Object(b.b)("tr",{parentName:"thead"},Object(b.b)("th",Object(n.a)({parentName:"tr"},{align:"left"}),"Name"),Object(b.b)("th",Object(n.a)({parentName:"tr"},{align:"left"}),"Type"),Object(b.b)("th",Object(n.a)({parentName:"tr"},{align:"left"}),"Description"))),Object(b.b)("tbody",{parentName:"table"},Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"left"}),"profile"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"left"}),Object(b.b)("inlineCode",{parentName:"td"},"string")),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"left"}),"Wechaty Name.            When you set this:            ",Object(b.b)("inlineCode",{parentName:"td"},"new Wechaty({profile: 'wechatyName'})"),"            it will generate a file called ",Object(b.b)("inlineCode",{parentName:"td"},"wechatyName.memory-card.json"),".            This file stores the bot's login information.            If the file is valid, the bot can auto login so you don't need to scan the qrcode to login again.            Also, you can set the environment variable for ",Object(b.b)("inlineCode",{parentName:"td"},"WECHATY_PROFILE")," to set this value when you start.            eg:  ",Object(b.b)("inlineCode",{parentName:"td"},'WECHATY_PROFILE="your-cute-bot-name" node bot.js'),". This field is deprecated, please use ",Object(b.b)("inlineCode",{parentName:"td"},"name")," instead. ",Object(b.b)("a",Object(n.a)({parentName:"td"},{href:"https://github.com/wechaty/wechaty/issues/2049"}),"see more"))),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"left"}),"puppet"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"left"}),Object(b.b)("inlineCode",{parentName:"td"},"PuppetModuleName")," ","|"," ",Object(b.b)("inlineCode",{parentName:"td"},"Puppet")),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"left"}),"Puppet name or instance")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"left"}),"puppetOptions"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"left"}),Object(b.b)("inlineCode",{parentName:"td"},"Partial.")),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"left"}),"Puppet TOKEN")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"left"}),"ioToken"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"left"}),Object(b.b)("inlineCode",{parentName:"td"},"string")),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"left"}),"Io TOKEN")))),Object(b.b)("h2",{id:"wechatyeventname"},"WechatyEventName"),Object(b.b)("p",null,"Wechaty Class Event Type"),Object(b.b)("p",null,Object(b.b)("strong",{parentName:"p"},"Kind"),": global typedef",Object(b.b)("br",{parentName:"p"}),"\n",Object(b.b)("strong",{parentName:"p"},"Properties")),Object(b.b)("table",null,Object(b.b)("thead",{parentName:"table"},Object(b.b)("tr",{parentName:"thead"},Object(b.b)("th",Object(n.a)({parentName:"tr"},{align:"left"}),"Name"),Object(b.b)("th",Object(n.a)({parentName:"tr"},{align:"left"}),"Type"),Object(b.b)("th",Object(n.a)({parentName:"tr"},{align:"left"}),"Description"))),Object(b.b)("tbody",{parentName:"table"},Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"left"}),"error"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"left"}),Object(b.b)("inlineCode",{parentName:"td"},"string")),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"left"}),"When the bot get error, there will be a Wechaty error event fired.")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"left"}),"login"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"left"}),Object(b.b)("inlineCode",{parentName:"td"},"string")),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"left"}),"After the bot login full successful, the event login will be emitted, with a Contact of current logined user.")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"left"}),"logout"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"left"}),Object(b.b)("inlineCode",{parentName:"td"},"string")),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"left"}),"Logout will be emitted when bot detected log out, with a Contact of the current login user.")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"left"}),"heartbeat"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"left"}),Object(b.b)("inlineCode",{parentName:"td"},"string")),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"left"}),"Get bot's heartbeat.")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"left"}),"friendship"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"left"}),Object(b.b)("inlineCode",{parentName:"td"},"string")),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"left"}),"When someone sends you a friend request, there will be a Wechaty friendship event fired.")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"left"}),"message"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"left"}),Object(b.b)("inlineCode",{parentName:"td"},"string")),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"left"}),"Emit when there's a new message.")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"left"}),"ready"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"left"}),Object(b.b)("inlineCode",{parentName:"td"},"string")),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"left"}),"Emit when all data has load completed, in wechaty-puppet-padchat, it means it has sync Contact and Room completed")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"left"}),"room-join"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"left"}),Object(b.b)("inlineCode",{parentName:"td"},"string")),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"left"}),"Emit when anyone join any room.")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"left"}),"room-topic"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"left"}),Object(b.b)("inlineCode",{parentName:"td"},"string")),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"left"}),"Get topic event, emitted when someone change room topic.")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"left"}),"room-leave"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"left"}),Object(b.b)("inlineCode",{parentName:"td"},"string")),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"left"}),"Emit when anyone leave the room.")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"left"}),"room-invite"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"left"}),Object(b.b)("inlineCode",{parentName:"td"},"string")),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"left"}),"Emit when there is a room invitation, see more in  ",Object(b.b)("a",Object(n.a)({parentName:"td"},{href:"/docs/api/room-invitation"}),"RoomInvitation"),'                                    If someone leaves the room by themselves, wechat will not notice other people in the room, so the bot will never get the "leave" event.')),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"left"}),"scan"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"left"}),Object(b.b)("inlineCode",{parentName:"td"},"string")),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"left"}),"A scan event will be emitted when the bot needs to show you a QR Code for scanning. ","<","/br",">","                                    It is recommend to install qrcode-terminal","(","run ",Object(b.b)("inlineCode",{parentName:"td"},"npm install qrcode-terminal"),")"," in order to show qrcode in the terminal.")))),Object(b.b)("h2",{id:"wechatyeventfunction"},"WechatyEventFunction"),Object(b.b)("p",null,"Wechaty Class Event Function"),Object(b.b)("p",null,Object(b.b)("strong",{parentName:"p"},"Kind"),": global typedef",Object(b.b)("br",{parentName:"p"}),"\n",Object(b.b)("strong",{parentName:"p"},"Properties")),Object(b.b)("table",null,Object(b.b)("thead",{parentName:"table"},Object(b.b)("tr",{parentName:"thead"},Object(b.b)("th",Object(n.a)({parentName:"tr"},{align:"left"}),"Name"),Object(b.b)("th",Object(n.a)({parentName:"tr"},{align:"left"}),"Type"),Object(b.b)("th",Object(n.a)({parentName:"tr"},{align:"left"}),"Description"))),Object(b.b)("tbody",{parentName:"table"},Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"left"}),"error"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"left"}),Object(b.b)("inlineCode",{parentName:"td"},"function")),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"left"}),"(","this: Wechaty, error: Error",")"," =",">"," void callback function")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"left"}),"login"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"left"}),Object(b.b)("inlineCode",{parentName:"td"},"function")),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"left"}),"(","this: Wechaty, user: ContactSelf",")","=",">"," void")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"left"}),"logout"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"left"}),Object(b.b)("inlineCode",{parentName:"td"},"function")),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"left"}),"(","this: Wechaty, user: ContactSelf",")"," =",">"," void")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"left"}),"scan"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"left"}),Object(b.b)("inlineCode",{parentName:"td"},"function")),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"left"}),"(","this: Wechaty, url: string, code: number",")"," =",">"," void")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"left"}),"heartbeat"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"left"}),Object(b.b)("inlineCode",{parentName:"td"},"function")),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"left"}),"(","this: Wechaty, data: any",")"," =",">"," void")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"left"}),"friendship"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"left"}),Object(b.b)("inlineCode",{parentName:"td"},"function")),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"left"}),"(","this: Wechaty, friendship: Friendship",")"," =",">"," void")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"left"}),"message"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"left"}),Object(b.b)("inlineCode",{parentName:"td"},"function")),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"left"}),"(","this: Wechaty, message: Message",")"," =",">"," void")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"left"}),"ready"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"left"}),Object(b.b)("inlineCode",{parentName:"td"},"function")),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"left"}),"(","this: Wechaty",")"," =",">"," void")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"left"}),"room-join"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"left"}),Object(b.b)("inlineCode",{parentName:"td"},"function")),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"left"}),"(","this: Wechaty, room: Room, inviteeList: Contact","[","]",",  inviter: Contact",")"," =",">"," void")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"left"}),"room-topic"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"left"}),Object(b.b)("inlineCode",{parentName:"td"},"function")),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"left"}),"(","this: Wechaty, room: Room, newTopic: string, oldTopic: string, changer: Contact",")"," =",">"," void")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"left"}),"room-leave"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"left"}),Object(b.b)("inlineCode",{parentName:"td"},"function")),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"left"}),"(","this: Wechaty, room: Room, leaverList: Contact","[","]",")"," =",">"," void")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"left"}),"room-invite"),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"left"}),Object(b.b)("inlineCode",{parentName:"td"},"function")),Object(b.b)("td",Object(n.a)({parentName:"tr"},{align:"left"}),"(","this: Wechaty, room: Room, leaverList: Contact","[","]",")"," =",">"," void                                          see more in  ",Object(b.b)("a",Object(n.a)({parentName:"td"},{href:"/docs/api/room-invitation"}),"RoomInvitation"))))))}p.isMDXComponent=!0}}]);